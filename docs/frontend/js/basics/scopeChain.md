# 作用域链

当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找
一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。

#### 函数创建

函数的作用域在函数定义的时候就决定了。
这是因为函数有一个内部属性 [[scope]]，当函数创建的时候，就会保存所有父变量对象到其中，
可以理解 [[scope]] 就是所有父变量对象的层级链，但是注意：[[scope]] 并不代表完整的作用域链！

```
function foo() {
    var a = 1
    function bar() {
        var b = 2
        console.log(b) // [[Scopes]]: Scopes[1]
        // console.log(a) 这里用到外部变量时 [[Scopes]]: Scope[2] 形成了闭包
    }
    bar() 
}
foo()

```